Reveal.initialize({ controls: false, progress: false, history: true, center: true, width: 1152, height: 672, transition: 'slide', transitionSpeed:'slow', hideAddressBar: true, viewDistance: 400, margin: 0, parallaxBackgroundImage: '', parallaxBackgroundSize: '', parallaxBackgroundHorizontal: '', parallaxBackgroundVertical: '', dependencies: [ { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } }, { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } }, { src: 'plugin/zoom-js/zoom.js', async: true }, ] }); Reveal.addEventListener( 'ready', function( event ) { if (partie!=null && partie=="sixtem"){ $('html').addClass('sixtem'); $('html').removeClass('sixplay'); }else if(partie!=null && partie=="sixplay"){ $('html').addClass('sixplay'); $('html').removeClass('sixtem'); } var partie = $(event.currentSlide).attr( "data-partie"); if (partie!=null && partie=="sixtem"){ $('html').addClass('sixtem'); $('html').removeClass('sixplay'); }else if(partie!=null && partie=="sixplay"){ $('html').addClass('sixplay'); $('html').removeClass('sixtem'); } var classList = $(event.currentSlide).attr('class').split(/\s+/); $.each(classList, function(index, item) { if (item.indexOf("etape") >= 0) { $('html').addClass(item); } }); }); Reveal.addEventListener( 'slidechanged', function( event ) { $('html').removeClass('etape1'); $('html').removeClass('etape2'); $('html').removeClass('etape3'); $('html').removeClass('etape4'); $('html').removeClass('etape5'); $('html').removeClass('etape6'); $('html').removeClass('etape6'); var partie = $(event.currentSlide).attr( "data-partie"); if (partie!=null && partie=="sixtem"){ $('html').addClass('sixtem'); $('html').removeClass('sixplay'); }else if(partie!=null && partie=="sixplay"){ $('html').addClass('sixplay'); $('html').removeClass('sixtem'); } var classList = $(event.currentSlide).attr('class').split(/\s+/); $.each(classList, function(index, item) { if (item.indexOf("etape") >= 0) { $('html').addClass(item); } }); }); Reveal.addEventListener( 'fragmentshown', function( event ) { var nameFragment = $(event.fragment).attr( "data-class"); $(event.fragment).closest('section').addClass(nameFragment); $('html').addClass(nameFragment); /* Jouer l'animation SWF ou non */ var videoToPlay = $(event.fragment).attr( "data-videotoplay"); if (videoToPlay!=null){ videoToPlay = '#'+videoToPlay; $(videoToPlay).get(0).play(); } }); Reveal.addEventListener( 'fragmenthidden', function( event ) { var nameFragment = $(event.fragment).attr( "data-class"); $(event.fragment).closest('section').removeClass(nameFragment); $('html').removeClass(nameFragment); } );